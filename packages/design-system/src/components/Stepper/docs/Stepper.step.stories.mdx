import { ArgsTable, Meta, Canvas, Story } from '@storybook/addon-docs';
import { IconsProvider } from '../../IconsProvider';
import { FigmaImage } from '~docs';
import Step from '../Step';

<Meta
	title="Components/Stepper/Step"
	component={Step}
	parameters={{
		status: { figma: 'ok', storybook: 'ok', react: 'ok', i18n: 'na' },
		figmaLink: 'https://www.figma.com/file/WUVKJmcDHfR7K1q1lYhaHk/?node-id=1%3A4',
	}}
/>

<IconsProvider
	bundles={['https://statics-dev.cloud.talend.com/@talend/icons/6.7.0/dist/svg-bundle/all.svg']}
/>

# Step

Steps are the main elements for the stepper.

## Zoning

<FigmaImage
	src="https://www.figma.com/file/qc8oUSyVJM67gSsbTShftt/%F0%9F%93%90-Zoning?node-id=345%3A167"
	alt="zoning image for the steps"
/>

## Style

<!--
### Icons

<IconGallery>
	{['talend-check-circle', 'talend-cross-circle'].map((iconName, index) => (
		<IconItem key={index} name={iconName}>
			<Icon name={iconName} />
		</IconItem>
	))}
</IconGallery>
-->

### Sizes

The max-width for a step is 20rem, if the label is longer we display an ellipsis.

### Variations

**Skeleton**

<Canvas>
	<Story name="Skeleton">
		<Step.Skeleton />
	</Story>
</Canvas>

**Validated**

<Canvas>
	<Story name="Validated">
		<Step.Validated data-index={1} title="Lorem Ipsum" />
	</Story>
</Canvas>

**In Progress**

<Canvas>
	<Story name="InProgress">
		<Step.InProgress data-index={2} title="Lorem Ipsum" />
	</Story>
</Canvas>

**Enabled**

<Canvas>
	<Story name="Enabled">
		<Step.Enabled data-index={3} title="Lorem Ipsum" />
	</Story>
</Canvas>

<!--
<FigmaImage
	src="https://www.figma.com/file/WUVKJmcDHfR7K1q1lYhaHk/Stepper?node-id=1%3A424"
	alt="variations image for steps"
/>

**Sub step** _(coming later)_

Sub steps are optional. They should be used to avoid having too many steps, or too long steps.
-->

## States

<FigmaImage
	src="https://www.figma.com/file/WUVKJmcDHfR7K1q1lYhaHk/Stepper?node-id=816%3A25605"
	alt="states image for the steps"
/>

## Interactions

Hovering the step can display a tooltip with more information if needed.

<Canvas>
	<Story name="With tooltip">
		<Step.Enabled data-index={1} title="My first step" tooltip="This is the first step in the process" tooltipPlacement="auto"/>
	</Story>
</Canvas>

<FigmaImage
	src="https://www.figma.com/file/WUVKJmcDHfR7K1q1lYhaHk/Stepper?node-id=1%3A462"
	alt="hovering on"
/>

## Usage

<Canvas>
	<Story
		name="usage"
		args={{
			variant: 'Skeleton',
			index: 1,
			title: 'Lorem ipsum',
			tooltip: 'Extra information about this step',
			tooltipPlacement: 'auto'
		}}
		argTypes={{
			variant: {
				description: 'Step variation',
				control: {
					type: 'select',
					options: ['Skeleton', 'Enabled', 'Validated', 'InProgress'],
				},
			},
			index: {
				description: 'Step number',
				control: {
					type: 'number',
				},
			},
			title: {
				description: 'Step title',
				control: {
					type: 'text',
				},
			},
			tooltip: {
				description: 'Tooltip content',
				control: {
					type: 'text',
				},
			},
			tooltipPlacement: {
				description: 'Tooltip location relative to the step',
				control: {
					type: 'select',
					options: [
						'auto-start',
						'auto',
						'auto-end',
						'top-start',
						'top',
						'top-end',
						'right-start',
						'right',
						'right-end',
						'bottom-end',
						'bottom',
						'bottom-start',
						'left-end',
						'left',
						'left-start',
					],
				},
			},
		}}
	>
		{({ variant, index, title, tooltip, tooltipPlacement }) => {
			const StepComponent = Step[variant];
			StepComponent.displayName = `Step.${variant}`;
			return <StepComponent data-index={index} title={title} tooltip={tooltip} tooltipPlacement={tooltipPlacement} />;
		}}
	</Story>
</Canvas>

<ArgsTable story="usage" />

## Accessibility

N/C
